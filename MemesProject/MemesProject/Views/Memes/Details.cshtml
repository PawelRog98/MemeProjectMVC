@model MemesProject.Models.Meme
@using MemesProject.Models.ViewModels;

@{
    ViewData["Title"] = "Details";
}

<div>
    <hr />
    <div class="center shadow-full">
        <div class="memecontainer">
            <div class="rounded item">
                <div class="memetitle"> @Html.DisplayFor(model => model.Title) </div>
                @Html.ActionLink(Model.IdUser,"GetUserInformation","User",new { id = Model.IdUser })
                @{
                    string base64 = Convert.ToBase64String(Model.File);
                    string imagesrc = "data:image/png;base64," + base64; 
                }
                <img src="@imagesrc" class="imgmiddle" alt="@Html.DisplayFor(model => model.DescriptionAlt)">

                <row class="buttons">
                    <button class="transbutton">
                   
                        @if(Model.IsFavourited)
                        {
                              <img src="/images/heart.png" id="@Model.IdMeme" class="UnLikeImage"  title="Remove an image from Favourites"   alt="Dodaj do ulubionych">
                        }
                        else               
                        {
                              <img src="/images/heartEmpty.png" id="@Model.IdMeme" class="likeImage"  title="Add an image to Favourites"   alt="Dodaj do ulubionych">
                        }
                    </button>
                    <button class="transbutton">
                         @if(Model.IsLiked)
                                        {
                                <img src="/images/likeFull.png" id="@Model.IdMeme" class="UnfavouriteImage" title=Unlike Image"   alt="Polub">
                                        }
                                        else
                                        {
                                 <img src="/images/like.png" id="@Model.IdMeme" class="favouriteImage" title="Like Image"   alt="Polub">
                        }
                                      <div id="numberLike @Model.IdMeme">@Model.Likes</div>      
                
                    </button>
                </row>
            </div>
             <div class ="Buttons-Row">
            <a asp-action="Edit" asp-route-id="@Model.IdMeme">
                <img id="imageid" src="/images/icons8-edit-96.png" title="Edycja" alt="Edytuj" class="Buttons-Medium BaseEdit">
            </a>
   
            <a asp-action="Delete" asp-route-id="@Model.IdMeme">
                <img id="imageid" src="/images/icons8-trash-96.png" title="Usuwanie" alt="Usuń" class="Buttons-Medium BaseDelete">
            </a>
            </div>
        </div>
    </div>
    <br/>

            @{await Html.RenderPartialAsync("_CommentsHubCreatePartial", new CommentViewModel { IdMeme=Model.IdMeme });}
  
</div>


@section Scripts {
    <div hidden>
          @{await Html.RenderPartialAsync("_CommentsHubCreatePartial", new CommentViewModel { IdMeme=Model.IdMeme });}
    </div>
 
}